treads = []
# ip_arr = ['172.217.14.206', '93.186.225.208', '157.240.3.35', '185.179.83.32', '185.129.100.112', 
#           '103.21.244.0', '103.22.200.0', '103.31.4.0', '104.16.0.0', '104.24.0.0', '108.162.192.0', '131.0.72.0']

ip_arr = ['172.217.14.206']

ip_arr.each do |ip|
  treads << Thread.new { File.write("/tmp/#{ip}.txt", system("ping #{ip}")) }
end

treads.each { |trd| trd.join }